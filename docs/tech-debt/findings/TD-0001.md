# TD-0001 — Validation endpoint is monolithic and duplicated
**Dimensão:** Código  
**Arquivo(s)/Local:** apps/api/src/api/v1/validation.py linhas 88-98 e 238-248  
**Evidência:**
- `reports/radon-raw.json` aponta 668 linhas para `validation.py`.
- `reports/jscpd-report.json` mostra bloco duplicado entre as linhas 88-98 e 238-248.
**Por que importa:** código longo e duplicado dificulta manutenção e aumenta risco de divergência entre endpoints.
**Opções de correção:**
- Extrair funções auxiliares para parsing, validação e respostas.
- Substituir o endpoint `/validate_csv` por um wrapper que reutiliza `validate_csv_v2`.
**Proposta:**
```diff
@@
-@router.post(
-    "/validate_csv",
-    response_model=ValidationResult,
-    responses={...},
-    operation_id="validateCsvAlias",
-    include_in_schema=False
-)
-async def validate_csv_alias(...):
-    """Alias for /validate endpoint for backward compatibility."""
-    # Duplicated validation logic
-    ...
+@router.post("/validate_csv", include_in_schema=False, operation_id="validateCsvAlias")
+async def validate_csv_alias(...):
+    """Alias for /validate endpoint for backward compatibility."""
+    return await validate_csv_v2(...)
```
**Esforço:** L  
**Aceite:** testes de API passando (`pytest`) e ausência de clones em `jscpd`.  
**Links:** reports/radon-raw.json, reports/jscpd-report.json
