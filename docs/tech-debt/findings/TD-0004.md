# TD-0004 — Health and rate-limiting endpoints use placeholders
**Dimensão:** Observabilidade  
**Arquivo(s)/Local:** apps/api/src/api/v1/health.py linhas 25-31 e 56; apps/api/src/middleware/correlation.py linhas 58-61  
**Evidência:** TODOs indicam ausência de checagens reais e lógica de rate limit ([apps/api/src/api/v1/health.py#L25-L31](../../../../apps/api/src/api/v1/health.py#L25-L31), [apps/api/src/api/v1/health.py#L56](../../../../apps/api/src/api/v1/health.py#L56), [apps/api/src/middleware/correlation.py#L58-L61](../../../../apps/api/src/middleware/correlation.py#L58-L61)).
**Por que importa:** status de saúde e proteção contra abuso podem ser falsos, comprometendo confiabilidade.
**Opções de correção:**
- Implementar verificação real de banco, Redis e S3.
- Usar Redis ou banco para contagem de requisições e retornar headers corretos.
**Proposta:**
```diff
-        "database": "healthy",  # TODO: Add actual DB health check
-        "redis": "healthy",     # TODO: Add actual Redis health check
-        "s3": "healthy"         # TODO: Add actual S3 health check
+        "database": await check_db(),
+        "redis": await check_redis(),
+        "s3": await check_s3()
@@
-        # TODO: Check rate limits
+        if exceeded_rate_limit(request):
+            return Response(status_code=429)
```
**Esforço:** M  
**Aceite:** chamadas a `/health` refletem estado real e headers de rate limit são atualizados em testes de carga.  
**Links:** reports/flags.txt
